{"ast":null,"code":"import _slicedToArray from \"/var/www/html/task/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/var/www/html/task/src/components/Auth/index.js\";\nimport React, { Component } from \"react\";\nimport { login } from './actions';\nimport { connect } from \"react-redux\";\nimport { isUserLoggedIn } from '../../../utils';\n\nfunction mapStateToProps(state) {\n  console.log(state);\n  return {\n    user: state.login\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    login: body => {\n      dispatch(login(body));\n    }\n  };\n}\n\nclass Login extends Component {\n  constructor() {\n    super();\n\n    this.submit = e => {\n      e.preventDefault();\n      let formData = new FormData(e.target);\n      let data = {};\n\n      for (var _ref of formData.entries()) {\n        var _ref2 = _slicedToArray(_ref, 2);\n\n        var key = _ref2[0];\n        var value = _ref2[1];\n        data[key] = value;\n      }\n\n      console.log(data);\n      this.props.login(data);\n    };\n  }\n\n  componentWillMount() {\n    if (isUserLoggedIn()) {\n      this.props.history.push('/dashboard');\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const _nextProps$user$login = nextProps.user.login,\n          pending = _nextProps$user$login.pending,\n          failed = _nextProps$user$login.failed,\n          error = _nextProps$user$login.error;\n    const oldPending = this.props.user.login.pending;\n\n    if (!pending && pending !== oldPending) {\n      if (failed) {// let myColor = { background: '#df382c', text: \"#FFFFFF\" };\n        // notify.show(nextProps.user.login.error, \"custom\", 6000, myColor);\n      } else {\n        this.props.history.push('/dashboard');\n      }\n    }\n  }\n\n  render() {\n    const pending = this.props.user.login.pending;\n    return React.createElement(\"div\", {\n      className: \"wrapper fadeInDown\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"formContent\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"formStyles\",\n      onSubmit: this.submit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"fadeIn first\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Login Form\")), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"fadeIn second\",\n      name: \"email\",\n      placeholder: \"Enter email id\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"password\",\n      className: \"fadeIn third\",\n      name: \"password\",\n      placeholder: \"Enter password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"submit\",\n      disabled: pending,\n      className: \"btn btn-info fadeIn fourth\",\n      value: \"\".concat(pending ? 'invalid credentials...' : 'Login'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","map":{"version":3,"sources":["/var/www/html/task/src/components/Auth/index.js"],"names":["React","Component","login","connect","isUserLoggedIn","mapStateToProps","state","console","log","user","mapDispatchToProps","dispatch","body","Login","constructor","submit","e","preventDefault","formData","FormData","target","data","entries","key","value","props","componentWillMount","history","push","componentWillReceiveProps","nextProps","pending","failed","error","oldPending","render"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\nimport {\n    login\n} from './actions';\nimport {connect} from \"react-redux\";\nimport {\n    isUserLoggedIn\n} from '../../../utils';\n\n\nfunction mapStateToProps (state) {\n    console.log(state)\n    return {\n        user: state.login\n    };\n}\n\nfunction mapDispatchToProps (dispatch) {\n    return {\n        login: (body) => {\n            dispatch(login(body));\n        }\n    };\n}\n\nclass Login extends Component {\n    constructor() {\n        super();\n    }\n    componentWillMount(){\n        if(isUserLoggedIn()){\n            this.props.history.push('/dashboard');\n        }\n    }\n\n    componentWillReceiveProps(nextProps){\n        const {user:{login:{pending, failed, error}}} = nextProps;\n        const {user:{login:{pending: oldPending}}} = this.props;\n        if(!pending && pending !== oldPending){\n            if(failed){\n                // let myColor = { background: '#df382c', text: \"#FFFFFF\" };\n                // notify.show(nextProps.user.login.error, \"custom\", 6000, myColor);\n            }else {\n                this.props.history.push('/dashboard');\n            }\n        }\n    }\n\n    submit = (e) => {\n        e.preventDefault();\n        let formData = new FormData(e.target)\n        let data = {};\n        for (var [key, value] of formData.entries()) {\n            data[key] = value;\n        }\n        console.log(data);\n        this.props.login(data);\n    }\n\n    render(){\n        const pending = this.props.user.login.pending;\n        return (\n          <div className=\"wrapper fadeInDown\">\n              <div id=\"formContent\">\n                  <form className=\"formStyles\" onSubmit={this.submit}>\n                  <div className=\"fadeIn first\">\n                      <h5>Login Form</h5>\n                  </div>\n                      <input type=\"text\" className=\"fadeIn second\" name=\"email\" placeholder=\"Enter email id\" />\n                      <input type=\"password\" className=\"fadeIn third\" name=\"password\" placeholder=\"Enter password\" />\n                      <input type=\"submit\" disabled={pending} className=\"btn btn-info fadeIn fourth\" value={`${pending ? 'invalid credentials...' : 'Login'}`} />\n                  </form>\n              </div>\n          </div>\n        );\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Login);"]},"metadata":{},"sourceType":"module"}